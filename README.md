# HTTP/2 영상 스트리밍 서버 

nghttp2와 OpenSSL을 기반으로 한  HTTP/2 영상 스트리밍 서버

## 프로젝트 개요

QServer는 HTTP/2 프로토콜을 사용하여 영상 스트리밍, 업로드, 사용자 관리 기능을 제공하는 웹 서버
TLS 1.2 이상의 보안 통신을 지원하며, MySQL 데이터베이스를 통해 영상 메타데이터와 사용자 정보를 관리
본 프로젝트는 보안상 문제가 고려되지 않음

### 주요 기능

- HTTP/2 프로토콜 지원
- 보안 통신: OpenSSL 기반 TLS 1.2
- 영상 스트리밍:
- 업로드: 영상 업로드 (최대 4GB)
- 사용자 인증: 회원가입, 로그인 기능
- 영상 관리: 업로드, 조회, 검색, 수정, 삭제
- 시청 기록: 사용자별 영상 시청 위치 저장 및 복원
- 관리자 기능: 전체 영상 관리

## 기술 스택

### 백엔드
- 언어: C
- HTTP/2: nghttp2
- 보안: OpenSSL (TLS 1.2)
- 데이터베이스: MySQL 
- JSON: cJSON 라이브러리
- 멀티스레딩

### 프론트엔드
- HTML
- CSS
- JavaScript

## 설치 및 실행

### 사전 요구사항

#### 1. 필수 라이브러리

- OpenSSL 
- nghttp2
- MySQL C Connector 
- cJSON 

### 실행


1. 실행 전 확인사항:
   - QServer.c 29~37 설정 수정 필요 ( 개인설정 )
   - 필요시 DB.c 17~20 수정
   - MySQL 서버 실행 중
   - `public/` 폴더 존재
   - `certs/` 폴더에 인증서 파일 존재
   - public/ video, thumb 랑 certs 폴더는 반드시 사전에 존재해야함

## 문제 해결

### 서버 시작 실패
- MySQL 연결 실패: MySQL 서버 실행 여부 및 연결 정보 확인
- 인증서 로드 실패: `certs/` 폴더 및 인증서 파일 존재 여부 확인
- 포트 바인딩 실패: 해당 포트 사용 중인지 확인

### 파일 업로드 실패
- 권한 문제: `public/video/` 폴더 쓰기 권한 확인
- 용량 초과: 4GB 이하 파일인지 확인
- 디스크 공간: 충분한 디스크 공간 확인

### 영상 재생 안됨
- 파일 경로: `public/video/{id}.mp4` 파일 존재 여부 확인
- 권한: 파일 읽기 권한 확인
- 메모리: 메모리 사용량 확인

## 개발 환경

- OS: Windows 10/11
- IDE: Visual Studio 2022
- 컴파일러: MSVC (Microsoft Visual C++)
- 플랫폼: x64



